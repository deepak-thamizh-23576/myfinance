<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>MyFinance2</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
  <script src="https://static.zohocdn.com/catalyst/sdk/js/4.0.0/catalystWebSDK.js"></script>
  <script src="/__catalyst/sdk/init.js"></script>
  <script src="main.js"></script>
</head>

<body>
  <div class="mainContainer">
    <div class="sideBar">
      <div class="userProfileMain">
        <div class="userProfile" id="profileInitial" onclick="showMyAcnt()"></div>
        <div class="userDetails">
          <h2 class="userName" id="firstName"></h2>
          <h3 class="userEmail" id="emailId"></h3>
        </div>
      </div>
    </div>
    <div class="tabHolder">
      <div class="tabContainer mobile-tab" id="tabContainer">
        <button class="tab-button" id="userDetailsBox" onclick="showUserDetls()">
          <span class="material-symbols-outlined">group</span>
          <span class="tab-label">User Details</span>
        </button>
      </div>
      <div class="secondContainer mobile-tab" onclick="showPaymnts()">
        <button class="tab-button">
          <span class="material-symbols-outlined">send_money</span>
          <span class="tab-label">Payments</span>
        </button>
      </div>
    </div>
    <div class="acntSettings">
      <span class="material-symbols-outlined" onclick="logout()" style="
                            transform: rotate(180deg);
                        ">chip_extraction</span>
      <h2 id="userRoleDisplay" style="
                        font-family: 'Zoho Puvi Light';
                        font-size: 14px;
                    "></h2>
    </div>
  </div>
  <div class="rightBar" id="profileSection">
    <h1 class="custom-heading" id="custom-heading">User Profile Information</h1>
    <div id="loanBoxContainer"></div>
    <div class="card" id="card">
      <p class="title" id="fname"></p>
      <p class="title" id="lname"></p>
      <p class="title" id="mailid"></p>
      <p class="title" id="tzone"></p>
      <p class="title" id="ctime"></p>
      <p class="title" id="ustatus"></p>
    </div>
  </div>
  </div>
  <script>
    window.onload = function () {
      const user = JSON.parse(sessionStorage.getItem("userData"));
      if (!user) return;

      document.getElementById("profileSection").style.display = "block";
      document.getElementById("custom-heading").style.display = "block";
      document.getElementById("card").style.display = "block";

      document.getElementById("custom-heading").innerText = "My Account";

      document.getElementById("fname").innerText = "First Name: " + user.first_name;
      document.getElementById("lname").innerText = "Last Name: " + user.last_name;
      document.getElementById("mailid").innerText = "Email id: " + user.email_id;
      document.getElementById("tzone").innerText = "Org Id: " + user.org_id;
      document.getElementById("ctime").innerText = "User Type: " + user.role_details.role_name;

      const rawStatus = user.status.toLowerCase();
      const statusFormatted = rawStatus.charAt(0).toUpperCase() + rawStatus.slice(1);
      document.getElementById("ustatus").innerHTML =
        'Status: <span style="color: green;">' + statusFormatted + '</span>';
    };
  </script>
</body>

</html>